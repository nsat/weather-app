<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0">
    <title> Spire Data Visualizer </title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="img/spire_symb_red.png">
    <!-- 3rd-Party Libraries for graphs -->
    <script type="text/javascript" src="lib/vega-5.js"></script>
    <script type="text/javascript" src="lib/vega-lite-4.js"></script>
    <script type="text/javascript" src="lib/vega-embed-6.js"></script>
    <!-- 3rd-Party Libraries for maps -->
    <link rel="stylesheet" type="text/css" href="lib/openlayers.css" />
    <script type="text/javascript" src="lib/openlayers.js"></script>
    <!-- 3rd-Party Libraries for JSON viewer UI (some customization) -->
    <link rel="stylesheet" type="text/css" href="lib/jsonview.css" />
    <script type="text/javascript" src="lib/jsonview.js"></script>
    <!-- simple w3schools.com snippet for making a DOM element draggable -->
    <script type="text/javascript" src="lib/draggable_element.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <link rel="stylesheet" type="text/css" href="css/weather/weatherpopup.css" />
    <link rel="stylesheet" type="text/css" href="css/weather/toggleswitch.css" />
    <!-- Custom Weather Stats JS -->
    <script type="text/javascript" src="js/weather/configure_graphs.js"></script>
    <script type="text/javascript" src="js/weather/parse_data.js"></script>
    <script type="text/javascript" src="js/weather/create_graphs.js"></script>
    <script type="text/javascript" src="js/weather/get_spire_forecast.js"></script>
    <!-- Custom Map JS -->
    <script type="text/javascript" src="js/map/enable_map_download.js"></script>
    <script type="text/javascript" src="js/map/feature_styles.js"></script>
    <script type="text/javascript" src="js/map/map_maker.js"></script>
    <script type="text/javascript" src="js/map/wms_layers.js"></script>
    <!-- Custom Vessels JS (requires map functions to draw vessels on map) -->
    <script type="text/javascript" src="js/get_spire_vessels.js"></script>
    <!-- Custom JS executed when the page and all DOM elements have loaded -->
    <script type="text/javascript" src="js/on_load.js"></script>
  </head>
  <body>
    <!-- page overlay triggered when either of
    the Token Submit Form or the Weather Graphs are visible -->
    <div id="grayPageOverlay"></div>
    <!----------------->
    <!-- Top of App  -->
    <!----------------->
    <!-- Spire logo in the top left of the map element -->
    <a id="logo" href="https://www.spire.com/" target="_blank" title="Spire Global"></a>
    <!-- map download icon in the top right of the map element -->
    <div id="downloadMap" title="Download Map"></div>
    <!-- buttons near the top left of the map element -->
    <div id="buttons">
      <!-- button to trigger Draw Polygon feature
      note: this button's text will change for the Agricultural setting -->
      <button id="drawPolygonArea">Get 500 Vessels in Area</button>
      <!-- button to trigger Click-Map-For-Point-Forecast feature -->
      <button id="requestForecast">Get Weather Forecast</button>
      <!-- button to trigger popup for selecting WMS layer -->
      <button id="selectWMS">Get WMS Layer</button>
    </div>
    <!-- the map coordinates at the mouse's current position
    displayed in the top right of the map element (lon, lat) -->
    <span id="mouseCoordinates"></span>
    <!-- shading around edges of map -->
    <div id="mapBorder"></div>
    <!-- the OpenLayers map component -->
    <div id="map" class="map"></div>
    <!------------------------------>
    <!-- Token Submit Form Popup  -->
    <!------------------------------>
    <div id="tokenPopup">
      <h1 id="token_title">Spire API Token</h1>
      <form id="tokenForm">
        <input id="token" type="password" placeholder="Please Enter Your Token Here" />
        <input id="submitToken" type="submit" />
      </form>
    </div>
    <!------------------------>
    <!-- Vessel Info Popup  -->
    <!------------------------>
    <div id="vesselPopup">
      <h1 id="vessel_title">Spire Vessels API Data</h1>
      <button id="getVesselForecast">Spire Forecast</button>
      <button id="closeVesselPopup" class="remove">
        X
      </button>
      <div id="vesselInfo"></div>
    </div>
    <!----------------------->
    <!-- WMS Layers Popup  -->
    <!----------------------->
    <div id="wmsPopup">
      <h1 id="wms_title">Spire Weather WMS Layers</h1>
      <button id="closeWMSPopup" class="remove">
        X
      </button>
      <div class="wms_dropdown" style="width:200px;">
        <select id='wms_select'>
          <option value='none'>None</option>
          <!-- maritime -->
          <option value='sof-d.maritime/YYYYMMDD/HH/swh:m'>Significant Wave Height (combined wind waves+swell; meters)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/swh:ft'>Significant Wave Height (combined wind waves+swell; feet)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/oc:kt'>Ocean Current (knots)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/oc:ms'>Ocean Current (m/s)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/ocv:kt'>Ocean current northward component (knots)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/ocv:ms'>Ocean current northward component (m/s)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/ocu:kt'>Ocean current eastward component (knots)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/ocu:ms'>Ocean current eastward component (m/s)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/sst:K'>Sea-Surface Temperature (K)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/sst:C'>Sea-Surface Temperature (C)</option>
          <option value='sof-d.maritime/YYYYMMDD/HH/sst:F'>Sea-Surface Temperature (F)</option>
          <!-- basic -->
          <option value='sof-d/YYYYMMDD/HH/tp:mm'>Total Precipitation (mm)</option>
          <option value='sof-d/YYYYMMDD/HH/gust:kt'>Wind Gust (knots)</option>
          <option value='sof-d/YYYYMMDD/HH/gust:ms'>Wind Gust (m/s)</option>
          <option value='sof-d/YYYYMMDD/HH/sfcwind:kt'>10-Meter Wind (knots)</option>
          <option value='sof-d/YYYYMMDD/HH/sfcwind:ms'>10-Meter Wind (m/s)</option>
          <option value='sof-d/YYYYMMDD/HH/10v:kt'>10-Meter V-Wind Component (knots)</option>
          <option value='sof-d/YYYYMMDD/HH/10v:ms'>10-Meter V-Wind Component (m/s)</option>
          <option value='sof-d/YYYYMMDD/HH/10u:kt'>10-Meter U-Wind Component (knots)</option>
          <option value='sof-d/YYYYMMDD/HH/10u:ms'>10-Meter U-Wind Component (m/s)</option>
          <option value='sof-d/YYYYMMDD/HH/t2m:K'>2-Meter Air Temperature (K)</option>
          <option value='sof-d/YYYYMMDD/HH/t2m:C'>2-Meter Air Temperature (C)</option>
          <option value='sof-d/YYYYMMDD/HH/t2m:F'>2-Meter Air Temperature (F)</option>
          <option value='sof-d/YYYYMMDD/HH/2d:K'>2-Meter Dewpoint Temperature (K)</option>
          <option value='sof-d/YYYYMMDD/HH/2d:C'>2-Meter Dewpoint Temperature (C)</option>
          <option value='sof-d/YYYYMMDD/HH/2d:F'>2-Meter Dewpoint Temperature (F)</option>
          <option value='sof-d/YYYYMMDD/HH/r'>2-Meter Relative Humidity</option>
          <option value='sof-d/YYYYMMDD/HH/pmsl:hPa'>Mean Sea-Level Pressure (hPa)</option>
        </select>
      </div>
    </div>
    <!--------------------------->
    <!-- Weather Graphs Popup  -->
    <!--------------------------->
    <div id="weatherPopup">
      <h1 id="forecast_title">Spire Weather Forecast</h1>
      <h4 id="forecast_point_label"></h4>
      <button id="closeWeatherPopup" class="remove">
        X
      </button>
      <div id="toggle_forecast">
        <span id="week" class="selected">Week</span>
        <div class="switch" title="Switch Forecast">
          <input id="forecast_switch" type="checkbox" class="switch-input">
          <label for="toggle"><i></i></label>
          <!-- round "LED" indicator for toggle -->
          <!-- <span></span> -->
        </div>
        <span id="day">Day</span>
      </div>
      <!-- the order of the DIV elements here
      is the order in which the graphs will be displayed
      regardless of which ones are created first in the JavaScript code -->
      <div id="weather_graphs">
        <!-- maritime -->
        <div id="sea_surface_temp"></div>
        <div id="wave_height"></div>
        <div id="ocean_currents_speed"></div>
        <div id="ocean_currents_direction"></div>
        <!-- agricultural -->
        <div id="ag_dew_point_temperature"></div>
        <div id="surface_temperature"></div>
        <div id="sensible_heat_flux"></div>
        <div id="latent_heat_flux"></div>
        <div id="specific_humidity"></div>
        <div id="net_upward_longwave_flux_at_top_of_atmosphere"></div>
        <div id="surface_net_downward_shortwave_flux"></div>
        <div id="surface_net_downward_longwave_flux"></div>
        <div id="surface_net_upward_shortwave_flux"></div>
        <div id="surface_net_upward_longwave_flux"></div>
        <div id="soil_temperature_0_10cm"></div>
        <div id="soil_moisture_0_10cm"></div>
        <div id="soil_temperature_10_40cm"></div>
        <div id="soil_moisture_10_40cm"></div>
        <div id="soil_temperature_40_100cm"></div>
        <div id="soil_moisture_40_100cm"></div>
        <div id="soil_temperature_100_200cm"></div>
        <div id="soil_moisture_100_200cm"></div>
        <!-- basic -->
        <div id="wind_speed"></div>
        <div id="wind_direction"></div>
        <div id="wind_gust"></div>
        <div id="precip"></div>
        <div id="air_temp"></div>
        <div id="dew_point_temp"></div>
        <div id="rel_hum"></div>
        <div id="air_press_sea_level"></div>
      </div>
    </div>
  </body>
</html>